Heavily inspired by [koalahook](https://github.com/infamouskoala/koalahook/)
